<!-- templates/servicios_varios.html -->

{% extends "baseG.html" %} {% load static %} {% block body %}
<div class="container mt-5">
  <h2 class="mb-4">Lista de Servicios Varios</h2>
  {% if servicios_varios %}
  <table id="myTable" class="table table-striped table-bordered border-success">
    <thead class="table-dark">
      <tr>
        <th class="header-cell w-5">Dirección</th>
        <th class="header-cell w-5">Turno</th>
        <th class="header-cell w-5">Fecha y Hora</th>
        <th class="header-cell w-5">Salida y Hora</th>
        <th class="header-cell w-5">Entrada y Hora</th>
        <th class="header-cell w-5">Tipo de Servicio</th>
        <th class="header-cell w-5">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for servicio in servicios_varios %}
      <tr>
        <td>{{ servicio.direccion }}</td>
        <td>{{ servicio.turno }}</td>
        <td>{{ servicio.fecha_hora }}</td>
        <td>{{ servicio.salida_hora }}</td>
        <td>{{ servicio.entrada_hora }}</td>
        <td>{{ servicio.tipo_servicio_varios }}</td>
        <td>
          <!-- Botón para abrir el modal -->
          <button
            class="btn btn-warning"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#modalVarios{{ servicio.id }}"
          >
            <i class="bi bi-eye"></i> Ver Detalles
          </button>
        </td>
      </tr>

      <!-- Modal para cada servicio de Varios -->
      <div
        class="modal fade"
        id="modalVarios{{ servicio.id }}"
        tabindex="-1"
        aria-labelledby="modalVariosLabel{{ servicio.id }}"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header bg-warning">
              <h5 class="modal-title" id="modalVariosLabel{{ servicio.id }}">
                Detalles del Servicio Varios
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Cerrar"
              ></button>
            </div>
            <div class="modal-body">
              <div class="row">
                <!-- Información General -->
                <div class="col-md-6">
                  <h6>Información General</h6>
                  <p><strong>Dirección:</strong> {{ servicio.direccion }}</p>
                  <p><strong>KM Entrada:</strong> {{ servicio.kmEntrada }}</p>
                  <p><strong>KM Salida:</strong> {{ servicio.kmSalida }}</p>
                  <p>
                    <strong>Jefe de Servicio:</strong> {{ servicio.jefeServicio
                    }}
                  </p>
                  <p>
                    <strong>Telefonista:</strong> {{ servicio.telefonista }}
                  </p>
                  <p>
                    <strong>Bombero Reporta:</strong> {{ servicio.bomberoReporta
                    }}
                  </p>
                  <p><strong>Turno:</strong> {{ servicio.turno }}</p>
                  <p>
                    <strong>Fecha y Hora:</strong> {{ servicio.fecha_hora }}
                  </p>
                  <p>
                    <strong>Salida y Hora:</strong> {{ servicio.salida_hora }}
                  </p>
                  <p>
                    <strong>Entrada y Hora:</strong> {{ servicio.entrada_hora }}
                  </p>
                  <p>
                    <strong>Observaciones:</strong> {{ servicio.observaciones }}
                  </p>
                </div>
                <!-- Información Específica de Varios -->
                <div class="col-md-6">
                  <h6>Detalles de Varios</h6>
                  <p>
                    <strong>Tipo de Servicio:</strong> {{
                    servicio.tipo_servicio_varios }}
                  </p>
                  <p>
                    <strong>Autorizado Por:</strong> {{ servicio.autorizado_por
                    }}
                  </p>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cerrar
              </button>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="alert alert-info">No hay servicios Varios registrados.</div>
  {% endif %}
</div>
{% endblock %}
