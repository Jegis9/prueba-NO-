{% extends "baseG.html" %} {% load static %} {% block body %}

<div class="container mt-5">
  <div class="row">
    <div class="col-12">
      <h1 class="text-center">
        Emergencias atendidas
        <i class="bi bi-calendar-plus-fill text-success"></i>
      </h1>
    </div>
    {% if messages %} {% for message in messages %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <strong>Mensaje: </strong> {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %} {% endif %}
  </div>

  <div
    class="row mt-4 shadow p-3 mb-5 bg-body-tertiary rounded border border-secondary"
  >
    <div class="table-responsive">
      <table
        id="myTable"
        class="table table-striped table-bordered border-success"
      >
        <thead>
          <tr>
            <th class="header-cell">#</th>
            <th class="header-cell w-5">Descripcion</th>
            <th class="header-cell w-5 border">Ubicacion</th>
            <th class="header-cell w-5 border">Reportado</th>
            <th class="header-cell w-5 border">Usuario</th>
            <th class="header-cell w-5 border">Correo</th>
            <th class="header-cell w-5 border">Estado</th>
          </tr>
        </thead>
        <tbody>
          {% for emergencias in emergencias %}
          <tr>
            <td>{{ emergencias.codigo}}</td>
            <td>{{ emergencias.descripcion }}</td>
            <td>{{ emergencias.ubicacion }}</td>
            <td>{{ emergencias.reportado }}</td>
            <td>{{ emergencias.user }}</td>
            <td>{{ emergencias.user.email }}</td>
            <td><span class="badge text-bg-danger">Cerrada</span></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
